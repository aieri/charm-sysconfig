#!/usr/local/sbin/charm-env python3

from lib_sysconfig import check_update_grub

from charmhelpers.core import hookenv


def main():
    hookenv.log("Dry-running update-grub to check any available grub conf updates.", hookenv.DEBUG)
    available = check_update_grub()
    message = "nothing to be updated."
    if available:
        message = "update-grub required."
    hookenv.action_set({"message": message})

if __name__ == "__main__":
    main()
