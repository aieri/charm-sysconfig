# Juju generated file - do not edit manually

# If you change this file, run 'update-grub' afterwards to update
# /boot/grub/grub.cfg.
# For full documentation of the options in this file, see:
#   info -f grub -n 'Simple configuration'

GRUB_CMDLINE_LINUX_DEFAULT="console=tty0 console=ttyS0,115200 console=ttyS1,115200 raid=noautodetect intel_iommu=on iommu=pt pti=off"
{% if cpu_range -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT isolcpus={{ cpu_range }}"
{% endif -%}
{% if hugepagesz -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT hugepagesz={{ hugepagesz }}"
{% endif -%}
{% if hugepages -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT hugepages={{ hugepages }}"
{% endif -%}
GRUB_CMDLINE_LINUX=""

# Uncomment to disable graphical terminal (grub-pc only)
#GRUB_TERMINAL=console
GRUB_TERMINAL=serial

# config-flags
{% for key, value in grub_config_flags.items() -%}
{{ key }}={{ value }}
{% endfor -%}
