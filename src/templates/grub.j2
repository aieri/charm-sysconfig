# Juju generated file - do not edit manually

# If you change this file, run 'update-grub' afterwards to update
# /boot/grub/grub.cfg.
# For full documentation of the options in this file, see:
#   info -f grub -n 'Simple configuration'

# Evaluate grub-config-flags first, in case it uses $GRUB_CMDLINE_LINUX_DEFAULT.
# However, if grub-config-flags is not specified, ignore that (current behavior.)
{% if grub_config_flags is defined and grub_config_flags -%}
# config-flags
{% for key, value in grub_config_flags.items() -%}
{{ key }}={{ value }}
{% endfor -%}
{% else -%}
GRUB_CMDLINE_LINUX_DEFAULT=""
{% endif -%}

GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT console=ttyS0,115200 console=tty0"
{% if isolcpus is defined and isolcpus -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT isolcpus={{ isolcpus }}"
{% endif -%}
{% if hugepagesz is defined and hugepagesz -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT hugepagesz={{ hugepagesz }}"
{% endif -%}
{% if hugepages is defined and hugepages -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT hugepages={{ hugepages }}"
{% endif -%}
{% if raid is defined and raid -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT raid={{ raid }}"
{% endif -%}
{% if pti_off is defined and pti_off -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT pti=off"
{% endif -%}
{% if iommu is defined and iommu -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT intel_iommu=on iommu=pt"
{% endif -%}
{% if tsx is defined and tsx -%}
GRUB_CMDLINE_LINUX_DEFAULT="$GRUB_CMDLINE_LINUX_DEFAULT tsx=on tsx_async_abort=off"
{% endif -%}

{% if grub_default is defined and grub_default -%}
GRUB_DEFAULT="{{ grub_default }}"
{% endif -%}
GRUB_CMDLINE_LINUX=""

# Uncomment to disable graphical terminal (grub-pc only)
#GRUB_TERMINAL=console
GRUB_TERMINAL=serial
